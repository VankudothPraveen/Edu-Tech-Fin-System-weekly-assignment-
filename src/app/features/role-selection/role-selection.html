<div class="auth-container">
  <!-- Full-screen background -->
  <div class="auth-background">
    <div class="background-pattern"></div>
  </div>
  
  <!-- Dev Tools Button (Top Right) -->
  <button class="dev-tools-btn" (click)="initTestData()" title="Initialize Test Data">
    üîß Dev: Load Test Data
  </button>
  
  <!-- Show Accounts Button -->
  <button class="show-accounts-btn" (click)="showExistingAccounts()" title="Show Existing Accounts">
    üë• Show Accounts
  </button>
  
  <!-- Clear Data Button -->
  <button class="clear-data-btn" (click)="clearAllData()" title="Clear All Data">
    üóëÔ∏è Clear Data
  </button>
  
  <!-- Centered Card -->
  <div class="auth-card">
    <!-- Header -->
    <div class="auth-header">
      <h1 class="auth-title">Tech Financial System</h1>
      <p class="auth-subtitle">GUVI Training Management Platform</p>
    </div>
    
    <!-- Role Tabs -->
    <div class="role-tabs">
      <div class="tabs-container">
        <div class="tab-indicator" [style.left.%]="getTabIndicatorPosition()"></div>
        <button 
          class="tab-btn" 
          [class.active]="activeTab === 'admin'" 
          (click)="selectTab('admin')"
        >
          Admin
        </button>
        <button 
          class="tab-btn" 
          [class.active]="activeTab === 'trainer'" 
          (click)="selectTab('trainer')"
        >
          Trainer
        </button>
        <button 
          class="tab-btn" 
          [class.active]="activeTab === 'client'" 
          (click)="selectTab('client')"
        >
          Client
        </button>
      </div>
    </div>
    
    <!-- Auth Toggle -->
    <div class="auth-toggle">
      <button 
        class="toggle-btn" 
        [class.active]="authMode === 'login'" 
        (click)="setAuthMode('login')"
      >
        Login
      </button>
      <button 
        class="toggle-btn" 
        [class.active]="authMode === 'register'" 
        (click)="setAuthMode('register')"
        *ngIf="activeTab !== 'admin'"
      >
        Register
      </button>
    </div>
    
    <!-- Form Content -->
    <div class="form-content">
      <!-- Login Form -->
      <div *ngIf="authMode === 'login'" class="auth-form">
        <form (ngSubmit)="onLogin()" class="login-form">
          <div class="form-group">
            <div class="input-group">
              <input 
                type="email" 
                class="form-input" 
                [(ngModel)]="email" 
                name="email"
                placeholder="Email Address" 
                required 
              />
            </div>
          </div>
          
          <div class="form-group">
            <div class="input-group">
              <input 
                type="password" 
                class="form-input" 
                [(ngModel)]="password" 
                name="password"
                placeholder="Password" 
                required 
              />
            </div>
          </div>
          
          <div *ngIf="errorMessage" class="error-message">
            {{ errorMessage }}
          </div>
          
          <button type="submit" class="submit-btn" [disabled]="isLoading">
            <span *ngIf="!isLoading">Login as {{getActiveTabTitle()}}</span>
            <span *ngIf="isLoading" class="btn-spinner"></span>
          </button>
        </form>
      </div>
      
      <!-- Register Form -->
      <div *ngIf="authMode === 'register'" class="auth-form">
        <form (ngSubmit)="onRegister()" class="register-form">
          <!-- Common Fields -->
          <div class="form-group">
            <div class="input-group">
              <input 
                type="text" 
                class="form-input" 
                [(ngModel)]="registerName" 
                name="registerName"
                placeholder="Full Name" 
                required 
              />
            </div>
          </div>
          
          <div class="form-group">
            <div class="input-group">
              <input 
                type="email" 
                class="form-input" 
                [(ngModel)]="registerEmail" 
                name="registerEmail"
                placeholder="Email Address" 
                required 
              />
            </div>
          </div>
          
          <div class="form-group">
            <div class="input-group">
              <input 
                type="password" 
                class="form-input" 
                [(ngModel)]="registerPassword" 
                name="registerPassword"
                placeholder="Password" 
                required 
              />
            </div>
          </div>
          
          <div class="form-group">
            <div class="input-group">
              <input 
                type="password" 
                class="form-input" 
                [(ngModel)]="confirmPassword" 
                name="confirmPassword"
                placeholder="Confirm Password" 
                required 
              />
            </div>
          </div>
          
          <!-- Trainer-specific Fields -->
          <div *ngIf="activeTab === 'trainer'">
            <div class="form-group">
              <div class="input-group">
                <input 
                  type="number" 
                  class="form-input" 
                  [(ngModel)]="trainerAge" 
                  name="trainerAge"
                  placeholder="Age" 
                  required 
                />
              </div>
            </div>
            
            <div class="form-group">
              <select class="form-input" [(ngModel)]="trainerGender" name="trainerGender">
                <option value="Male">Male</option>
                <option value="Female">Female</option>
                <option value="Other">Other</option>
              </select>
            </div>
            
            <div class="form-group">
              <div class="input-group">
                <input 
                  type="text" 
                  class="form-input" 
                  [(ngModel)]="trainerExperience" 
                  name="trainerExperience"
                  placeholder="Experience (e.g., '5 years')" 
                  required 
                />
              </div>
            </div>
            
            <div class="form-group">
              <div class="input-group">
                <input 
                  type="number" 
                  class="form-input" 
                  [(ngModel)]="trainerExpectedRate" 
                  name="trainerExpectedRate"
                  placeholder="Expected Rate ($/hour)" 
                  required 
                />
              </div>
            </div>
            
            <div class="form-group">
              <label class="form-label">Skills *</label>
              <div class="skill-input-container">
                <input 
                  type="text" 
                  class="form-input" 
                  [(ngModel)]="trainerSkillInput" 
                  name="trainerSkillInput"
                  placeholder="Add a skill (e.g., JavaScript, React)" 
                  (keyup.enter)="addSkill()"
                />
                <button type="button" class="btn-add-skill" (click)="addSkill()">Add</button>
              </div>
              <div class="skills-list" *ngIf="trainerSkills.length > 0">
                <span *ngFor="let skill of trainerSkills" class="skill-tag">
                  {{skill}}
                  <button type="button" class="skill-remove" (click)="removeSkill(skill)">√ó</button>
                </span>
              </div>
            </div>
          </div>
          
          <!-- Client-specific Fields -->
          <div *ngIf="activeTab === 'client'">
            <div class="form-group">
              <div class="input-group">
                <input 
                  type="tel" 
                  class="form-input" 
                  [(ngModel)]="clientPhone" 
                  name="clientPhone"
                  placeholder="Phone Number" 
                  required 
                />
              </div>
            </div>
            
            <div class="form-group">
              <div class="input-group">
                <input 
                  type="text" 
                  class="form-input" 
                  [(ngModel)]="clientCompanyName" 
                  name="clientCompanyName"
                  placeholder="Company Name" 
                  required 
                />
              </div>
            </div>
            
            <div class="form-group">
              <div class="input-group">
                <input 
                  type="text" 
                  class="form-input" 
                  [(ngModel)]="clientTechnology" 
                  name="clientTechnology"
                  placeholder="Required Technology (e.g., React, Angular)" 
                  required 
                />
              </div>
            </div>
            
            <div class="form-group">
              <div class="input-group">
                <input 
                  type="text" 
                  class="form-input" 
                  [(ngModel)]="clientDuration" 
                  name="clientDuration"
                  placeholder="Training Duration (e.g., '3 months')" 
                  required 
                />
              </div>
            </div>
            
            <div class="form-group">
              <label class="form-label">Expected Start Date *</label>
              <input 
                type="date" 
                class="form-input" 
                [(ngModel)]="clientExpectedStartDate" 
                name="clientExpectedStartDate"
                required 
              />
            </div>
            
            <div class="form-group">
              <div class="input-group">
                <input 
                  type="number" 
                  class="form-input" 
                  [(ngModel)]="clientBudget" 
                  name="clientBudget"
                  placeholder="Budget ($)" 
                />
              </div>
            </div>
          </div>
          
          <div class="form-group">
            <label class="checkbox-label">
              <input 
                type="checkbox" 
                [(ngModel)]="agreeTerms" 
                name="agreeTerms"
              />
              <span>I agree to the Terms and Conditions</span>
            </label>
          </div>
          
          <div *ngIf="errorMessage" class="error-message">
            {{ errorMessage }}
          </div>
          
          <button type="submit" class="submit-btn" [disabled]="isLoading">
            <span *ngIf="!isLoading">Create {{getActiveTabTitle()}} Account</span>
            <span *ngIf="isLoading" class="btn-spinner"></span>
          </button>
        </form>
      </div>
    </div>
  </div>
</div>
